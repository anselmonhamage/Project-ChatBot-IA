<!DOCTYPE html> 
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HelpDesk - Chatbot</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chatbot.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">

        <header>
            <div class="logo">
                <h1>Student<span>Hub</span></h1>
            </div>
            <nav>
                <ul>
                    <li><a href="{{ url_for('logout') }}"><i class="fa fa-sign-out-alt"></i> Logout</a></li>
                    <li><a href="{{ url_for('update_profile') }}"><i class="fa fa-user-edit"></i> Atualizar Perfil</a></li>
                </ul>
            </nav>
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                <div class="alert alert-warning">
                    <ul class="flashes">
                    {% for message in messages %}
                        <li>{{ message }}</li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}
            {% endwith %}
        </header>

        <main>

            <section class="chat-section">
                <h1>Simplificando a<span> busca de informação</span> com <span>estilo</span></h1>
                <br>
                <h3 class="FAQ">Perguntas Frequentes</h3>
                <div class="faq-questions">
                    <button class="faq-button">Como posso usar sistema fácil e rápido do HelpDesk?</button>
                    <button class="faq-button">Quais são os requisitos para fazer uso do Sistema?</button>
                    <button class="faq-button">Qual é o contacto do HelpDesk?</button>
                    <button class="faq-button">Dê-me dicas de Estudos?</button>   
                </div>
            </section>

            <section class="chat-section">
                <div id="messages" class="messages">
                    <div class="bot-message">
                        <strong>StudentHub:</strong> Olá! Como posso ajudá-lo hoje?
                    </div>
                </div>
            </section>

            <form action="" method="post" id="chat-form" class="chat-form">
                <div class="input-container">
                    <div class="chat-box">
                        <input type="text" id="message" placeholder="Pergunte aqui" />
                        <button type="submit" class="button" id="button">
                            <span class="button-text" id="button-text">➤</span>
                            <span class="loading-spinner"></span>
                        </button>
                    </div>
                </div>
            </form>

        </main>

    </div>

    <script>
        const CHATBOT_URL = "{{ url_for('ollama_chatbot') }}";
        const CSRF_TOKEN = "{{ csrf_token() }}";
    </script>

    <script src="{{ url_for('static', filename='js/chatbot.js') }}"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>